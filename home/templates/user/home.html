<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VaxitUp</title>
    <link rel="stylesheet" href="{% static 'css/body.css' %}">
    <link rel="stylesheet" href="{% static 'css/category.css' %}">
    <link rel="stylesheet" href="{% static 'css/headerhome.css' %}">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <style>
        .extra-info {
            background:rgb(255, 255, 255);
            box-shadow: 10px 13px 4px rgba(0, 0, 134, 0.17);
            padding: 20px;
            margin-top: 30px;
            border-radius: 10px;
            width: 100%;
        }
        .extra-info h2 {
            color: #14518e;
        }
        .extra-info ul {
            list-style-type: none;
            padding: 0;
        }
        .extra-info li {
            margin-bottom: 10px;
            font-size: 16px;
        }
        /* Explore Vaccines Section */
        .explore-vaccines {
            box-shadow: -10px 13px 4px rgba(0, 20, 79, 0.11);
            padding: 10px;
            margin-top: 70px;
            border-radius: 10px;
            text-align: center;
            max-width: 100%; /* Reduced width */
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .explore-vaccines h2 {
            color: #14518e;
            font-size: 26px;
            margin-bottom: 5px;
        }
        .explore-vaccines p {
            font-size: 18px;
            color: #555;
            margin-bottom: 20px;
        }
        .explore-vaccines-btn {
            display: inline-block;
            padding: 12px 24px;
            font-size: 15px;
            background-color: #14518e;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        .explore-vaccines-btn:hover {
            background-color: #14518e;
        }
        /* Vaccine Categories Section */
        .vaccine-categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            margin-top: 70px;
        }
        .category-card {
            background: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            width: 250px;
            transition: transform 0.3s ease;
            position: relative;
        }
        .category-card:hover {
            transform: scale(1.05);
        }
        .category-icon {
            font-size: 40px;
            color: #14518e;
            margin-bottom: 10px;
        }
        .category-arrow {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 18px;
            color: #14518e;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head> 
    <header id="mainNav" class="navbar-shrink">
        <div class="logo">
           <img src="{% static './images/logo2.png' %}" alt="Logo">
           <h2 id="nav2" style=" font-['Pacifico'];">VaxItUp</h2> 
        </div>

        <nav id="navbar">
            <ul>
                <li><a href="{% url 'homeuser' %}">Home</a></li>
                <li><a href="{% url 'feedback_view' %}">Feedback</a></li>
                <li><a href="{% url 'USERProfile' %}">Profile</a></li>
                <li class="notification-container">
                    <a href="#" id="notification-link">
                        Notifications <span id="notification-badge" class="badge" style="display: none;">0</span> 
                    </a>
                    <div id="notification-dropdown" class="notification-dropdown">
                        <ul id="notification-list">
                            <li>Loading notifications...</li> <!-- Placeholder -->
                        </ul>
                        <a href="{% url 'user_notifications' %}" id="view-all-notifications">View All</a>
                    </div>
                </li>                                                         
            </ul>
        
    
        <!-- Logout button (visible outside hamburger menu) -->
        <div class="buttons">
            <button class="LogOut">
                <a style="color: white; text-decoration: none;" href="{% url 'user_logout' %}">LogOut</a>
            </button>                       
        </div>
    </nav>
</header>
    <div class="home-banner">
        <div class="container mx-auto px-6 relative z-10">
            <div class="max-w-2xl pt-32">
            <h1 class="text-5xl font-bold text-gray-900 mb-6">Protect Your Health with Timely Vaccinations</h1>
            <p class="text-xl text-gray-700 mb-8">Schedule your vaccination appointment with our easy-to-use booking system.<br> Ensure your family's health with our comprehensive vaccination services.</p>
            </div>
            </div>
    </div>
    <div class="container">
        <section class="hero">
            <div class="description">
                <h1>Book Your Vaccine Today</h1>
                <p>Get vaccinated against harmful diseases and protect yourself and your loved ones. Follow the easy steps to book your vaccine appointment now. It‚Äôs quick and simple!</p>
            </div>
            <div class="hero-image">
                <img src="" alt="Vaccine Booking" />
            </div>
        </section>

        <section class="steps">
            <div class="step-card">
                <img src="{% static './images/form.png'%}" alt="Step 1">
                <h3>Step 1: Select a Vaccine</h3>
                <p>Search your required Vaccine from the vaccines list</p>
            </div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-card">
                <img src="{% static './images/logoh.jpg'%}" alt="Step 2">
                <h3>Step 2: Select a Center</h3>
                <p>Choose the nearest vaccination center to you.</p>
            </div>
            <div class="step-arrow">‚Üí</div>
            <div class="step-card">
                <img src="{% static './images/fill.png'%}" alt="Step 3">
                <h3>Step 3: Schedule Appointment</h3>
                <p>Fill the form details and pick your suitable tima and date.</p>
            </div>
        </section>

        <section class="explore-vaccines">
            <h2>Book Your Vaccine</h2>
            <p>Learn more about different vaccines, their effectiveness, and which one suits you best.</p>
            <a href="{% url 'search_vaccines' %}" class="explore-vaccines-btn">Explore Vaccines</a>
        </section>

        <section class="vaccine-categories">
            <div class="category-card">
                <i class="fas fa-baby category-icon"></i>
                <h3>Infants & Children</h3>
                <p>Vaccines for children, including MMR, polio, and hepatitis B.</p>
                <a href="{% url 'search_vaccines' %}?category=Child Vaccination" class="category-arrow">‚Üí</a>
            </div>
        
            <div class="category-card">
                <i class="fas fa-user-graduate category-icon"></i>
                <h3>Adolescents & Adults</h3>
                <p>Vaccinations for teenagers and young adults, such as HPV and meningococcal.</p>
                <a href="{% url 'search_vaccines' %}?category=Adult Vaccination" class="category-arrow">‚Üí</a>
            </div>
        
            <div class="category-card">
                <i class="fas fa-user-alt category-icon"></i>
                <h3>Elderly & High-Risk Individuals</h3>
                <p>Vaccines for elderly individuals, including flu shots and shingles vaccines.</p>
                <a href="{% url 'search_vaccines' %}?category=Flu Vaccination" class="category-arrow">‚Üí</a>
            </div>
        
            <div class="category-card">
                <i class="fas fa-female category-icon"></i>
                <h3>Pregnant Women</h3>
                <p>Vaccines like Tdap and influenza to protect both mother and baby.</p>
                <a href="{% url 'search_vaccines' %}?category=Pregnant Women" class="category-arrow">‚Üí</a>
            </div>
        
            <div class="category-card">
                <i class="fas fa-plane category-icon"></i>
                <h3>Travelers</h3>
                <p>Vaccinations for international travelers, such as yellow fever and typhoid.</p>
                <a href="{% url 'search_vaccines' %}?category=Travel Vaccination" class="category-arrow">‚Üí</a>
            </div>
        
            <div class="category-card">
                <i class="fas fa-syringe category-icon"></i>
                <h3>Others</h3>
                <p>Other vaccinations for specific conditions or professions.</p>
                <a href="{% url 'search_vaccines' %}?category=Others" class="category-arrow">‚Üí</a>
            </div>
        </section>           

         <!-- Extra Information Sections -->
         <section class="extra-info">
            <h1>Why Vaccination is Important</h1>
            <p>Vaccination is one of the most effective ways to prevent the spread of infectious diseases. It not only protects individuals but also contributes to herd immunity, safeguarding those who cannot get vaccinated.</p>
            <ul>
                <li>üõ°Ô∏è **Prevents severe illness and complications from diseases**</li>
                <li>üåç **Reduces the spread of viruses in the community**</li>
                <li>üíâ **Ensures long-term immunity with minimal side effects**</li>
                <li>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ **Protects vulnerable groups such as children and elderly individuals**</li>
            </ul>
        </section>
    
        <section class="extra-info">
            <h1>Qualities of a Safe and Effective Vaccine</h1>
            <p>A vaccine must meet high safety and quality standards before being distributed for public use. Here are the essential qualities of a good vaccine:</p>
            <ul>
                <li>‚úÖ **Scientifically tested and approved by health organizations**</li>
                <li>‚úÖ **Provides long-lasting immunity against targeted diseases**</li>
                <li>‚úÖ **Minimal side effects, with benefits outweighing risks**</li>
                <li>‚úÖ **Easily accessible and efficiently distributed worldwide**</li>
            </ul>
        </section>
    </div>
    <footer>
        <div class="footer-container">
            <!-- Contact Information -->
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p><i class="fas fa-envelope"></i> Email: <a href="mailto:support@vaccinebooking.com">support@vaccinebooking.com</a></p>
                <p><i class="fas fa-phone"></i> Phone: <a href="tel:+911234567890">+91 12345 67890</a></p>
                <p><i class="fas fa-map-marker-alt"></i> Address: 123 Health St., City, Country</p>
            </div>
    
            <!-- Quick Links -->
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#steps">How It Works</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </div>
    
            <!-- Follow Us -->
            <div class="footer-section">
                <h3>Follow Us</h3>
                <ul class="social-links">
                    <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                </ul>
            </div>
        </div>
    </footer>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const notificationLink = document.getElementById("notification-link");
            const notificationDropdown = document.getElementById("notification-dropdown");
            const notificationBadge = document.getElementById("notification-badge");
        
            // Toggle notification dropdown
            notificationLink.addEventListener("click", function (event) {
                event.preventDefault();
                notificationDropdown.classList.toggle("active");
        
                // Fetch notifications when dropdown opens
                if (notificationDropdown.classList.contains("active")) {
                    fetchNotifications();
                }
            });
        
            // Close dropdown when clicking outside
            document.addEventListener("click", function (event) {
                if (!event.target.closest(".notification-container")) {
                    notificationDropdown.classList.remove("active");
                }
            });
        
            function fetchNotifications() {
                fetch("{% url 'user_notifications_json' %}") // Django API
                    .then(response => response.json())
                    .then(data => {
                        const notificationList = document.getElementById("notification-list");
                        notificationList.innerHTML = ""; // Clear old notifications
        
                        if (data.notifications.length === 0) {
                            notificationList.innerHTML = "<li>No new notifications</li>";
                            notificationBadge.style.display = "none"; // Hide badge
                        } else {
                            const latestNotification = data.notifications[0]; // Get latest message
                            notificationBadge.textContent = data.notifications.length; // Update count
                            notificationBadge.style.display = "inline-block"; // Show badge
        
                            // Display only the latest notification
                            const listItem = document.createElement("li");
                            listItem.innerHTML = `<strong>${latestNotification.center_name}:</strong> ${latestNotification.message}`;
        
                            if (latestNotification.document_url) {
                                const docLink = document.createElement("a");
                                docLink.href = latestNotification.document_url;
                                docLink.textContent = " View Document";
                                docLink.target = "_blank";
                                listItem.appendChild(docLink);
                            }
        
                            notificationList.appendChild(listItem);
                        }
                    })
                    .catch(error => {
                        console.error("Error fetching notifications:", error);
                    });
            }
        
            // Auto-check for new notifications every 10 seconds
            setInterval(fetchNotifications, 10000);
        });  
        window.addEventListener("scroll", function () {
            let navbar = document.querySelector("header");
            if (window.scrollY > 50) { // Adjust threshold as needed
                navbar.classList.add("navbar-scrolled");
            } else {
                navbar.classList.remove("navbar-scrolled");
            }
        });
    </script>    
</body>
</html>
